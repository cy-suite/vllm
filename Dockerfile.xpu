FROM intel/intel-extension-for-pytorch:2.1.30-xpu

RUN apt-get update  -y \
&& apt-get install -y vim numactl

COPY ./ /workspace/vllm

WORKDIR /workspace/vllm

RUN pip install -v -r requirements-xpu.txt

RUN VLLM_TARGET_DEVICE=xpu python3 setup.py install

CMD ["/bin/bash"]
